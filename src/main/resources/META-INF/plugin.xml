<idea-plugin>
  <id>com.david.lit-devtools</id>
  <name>Lit DevTools</name>
  <vendor email="you@example.com">David</vendor>
  <version>0.1.0</version>

  <description>Developer experience for Lit 2.xâ€“3.x web components: completion, navigation, and structured view. Tested on WebStorm 2024.2 (build 242.*).</description>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.lang</depends>
  <depends>JavaScript</depends>

  <extensions defaultExtensionNs="com.intellij">
    <!-- Completion for HTML files -->
    <completion.contributor language="XML" implementationClass="com.david.litdevtools.completion.LitHtmlCompletionContributor"/>
    
    <!-- Completion for TypeScript/JavaScript files (for html template literals) -->
    <completion.contributor language="JavaScript" implementationClass="com.david.litdevtools.completion.LitHtmlCompletionContributor"/>
    <completion.contributor language="TypeScript" implementationClass="com.david.litdevtools.completion.LitHtmlCompletionContributor"/>

    <!-- Navigation tag -> class in HTML files -->
    <psi.referenceContributor language="XML" implementationClass="com.david.litdevtools.nav.LitTagReferenceContributor"/>
    
    <!-- Navigation tag -> class in TypeScript/JavaScript files (for html template literals) -->
    <psi.referenceContributor language="JavaScript" implementationClass="com.david.litdevtools.nav.LitTagReferenceContributor"/>
    <psi.referenceContributor language="TypeScript" implementationClass="com.david.litdevtools.nav.LitTagReferenceContributor"/>

    <!-- Structure view for JS/TS files -->
    <lang.structureViewBuilder language="JavaScript" implementationClass="com.david.litdevtools.structure.LitStructureViewBuilder"/>
    <lang.structureViewBuilder language="TypeScript" implementationClass="com.david.litdevtools.structure.LitStructureViewBuilder"/>

    <!-- Startup activity to confirm plugin is loaded -->
    <postStartupActivity implementation="com.david.litdevtools.LitStartupActivity"/>
    
    <!-- Notification group for plugin messages -->
    <notificationGroup id="Lit DevTools" displayType="BALLOON"/>

    <!-- Tool window for diagnostics and status -->
    <toolWindow id="Lit Inspector" anchor="right" factoryClass="com.david.litdevtools.ui.LitToolWindowFactory" icon="AllIcons.Toolwindows.ToolWindowInspection"/>
  </extensions>
</idea-plugin>
